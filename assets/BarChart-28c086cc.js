import{d as e,r as t,o as a,av as o,a as r,l as i,w as s,k as l,a2 as d,a3 as n,n as c,am as m}from"./index-825cdc33.js";import{E as p}from"./el-card-a9c4f552.js";import"./el-tooltip-4ed993c7.js";import{E as f}from"./el-popper-e6a6329c.js";import{_ as u}from"./download-4e76f434.js";import{L as h,i as y}from"./index-8483a871.js";import{_ as g}from"./_plugin-vue_export-helper-1b428a4d.js";import"./isUndefined-d281c39a.js";const x={class:"title"},v=["id"],w=g(e({__name:"BarChart",props:{id:{type:String,default:"barChart"},className:{type:String,default:""},width:{type:String,default:"200px",required:!0},height:{type:String,default:"200px",required:!0}},setup(e){const g=e,w={grid:{left:"2%",right:"2%",bottom:"10%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{x:"center",y:"bottom",data:["收入","毛利润","收入增长率","利润增长率"],textStyle:{color:"#999"}},xAxis:[{type:"category",data:["浙江","北京","上海","广东","深圳"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",min:0,max:1e4,interval:2e3,axisLabel:{formatter:"{value} "}},{type:"value",min:0,max:100,interval:20,axisLabel:{formatter:"{value}%"}}],series:[{name:"收入",type:"bar",data:[7e3,7100,7200,7300,7400],barWidth:20,itemStyle:{color:new h(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])}},{name:"毛利润",type:"bar",data:[8e3,8200,8400,8600,8800],barWidth:20,itemStyle:{color:new h(0,0,0,1,[{offset:0,color:"#25d73c"},{offset:.5,color:"#1bc23d"},{offset:1,color:"#179e61"}])}},{name:"收入增长率",type:"line",yAxisIndex:1,data:[60,65,70,75,80],itemStyle:{color:"#67C23A"}},{name:"利润增长率",type:"line",yAxisIndex:1,data:[70,75,80,85,90],itemStyle:{color:"#409EFF"}}]},b=t("");a((()=>{b.value=o(y(document.getElementById(g.id))),b.value.setOption(w),window.addEventListener("resize",(()=>{b.value.resize()}))}));const S=()=>{const e=new Image;e.src=b.value.getDataURL({type:"png",pixelRatio:1,backgroundColor:"#fff"}),e.onload=()=>{const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const a=t.getContext("2d");if(a){a.drawImage(e,0,0,e.width,e.height);const o=document.createElement("a");o.download="业绩柱状图.png",o.href=t.toDataURL("image/png",.9),document.body.appendChild(o),o.click(),o.remove()}}};return(t,a)=>{const o=u,h=f,y=p;return r(),i(y,null,{header:s((()=>[l("div",x,[d(" 业绩柱状图 "),n(h,{effect:"dark",content:"点击试试下载",placement:"bottom"},{default:s((()=>[n(o,{class:"download",onClick:S})])),_:1})])])),default:s((()=>[l("div",{id:e.id,class:c(e.className),style:m({height:e.height,width:e.width})},null,14,v)])),_:1})}}}),[["__scopeId","data-v-3d77e844"]]);export{w as default};
