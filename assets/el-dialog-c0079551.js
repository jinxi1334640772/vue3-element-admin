import{b as e,i as o,d as l,ay as a,j as s,bR as t,C as n,ca as r,a as d,c,k as i,e as u,n as f,f as p,t as y,a3 as v,w as m,l as g,m as b,E as C,ad as h,am as k,_ as A,cb as R,g as F,aY as I,aZ as B,h as $,az as w,bK as S,r as x,cc as D,b4 as L,cd as _,K as E,$ as M,o as T,ce as O,R as z,as as P,bk as j,F as q,u as N,p as K,O as U,cf as V,bH as Q,y as Z,bQ as H,P as Y,T as G,aI as J,cg as W,q as X}from"./index-825cdc33.js";import{c as ee}from"./refs-164cf4c1.js";import{i as oe}from"./isUndefined-d281c39a.js";const le=Symbol("dialogInjectionKey"),ae=e({center:Boolean,alignCenter:Boolean,closeIcon:{type:o},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),se=["aria-level"],te=["aria-label"],ne=["id"],re=l({name:"ElDialogContent"});var de=A(l({...re,props:ae,emits:{close:()=>!0},setup(e){const o=e,{t:l}=a(),{Close:A}=R,{dialogRef:F,headerRef:I,bodyId:B,ns:$,style:w}=s(le),{focusTrapRef:S}=s(t),x=n((()=>[$.b(),$.is("fullscreen",o.fullscreen),$.is("draggable",o.draggable),$.is("align-center",o.alignCenter),{[$.m("center")]:o.center},o.customClass])),D=ee(S,F),L=n((()=>o.draggable));return r(F,I,L),(e,o)=>(d(),c("div",{ref:p(D),class:f(p(x)),style:k(p(w)),tabindex:"-1"},[i("header",{ref_key:"headerRef",ref:I,class:f(p($).e("header"))},[u(e.$slots,"header",{},(()=>[i("span",{role:"heading","aria-level":e.ariaLevel,class:f(p($).e("title"))},y(e.title),11,se)])),e.showClose?(d(),c("button",{key:0,"aria-label":p(l)("el.dialog.close"),class:f(p($).e("headerbtn")),type:"button",onClick:o[0]||(o[0]=o=>e.$emit("close"))},[v(p(C),{class:f(p($).e("close"))},{default:m((()=>[(d(),g(b(e.closeIcon||p(A))))])),_:1},8,["class"])],10,te)):h("v-if",!0)],2),i("div",{id:p(B),class:f(p($).e("body"))},[u(e.$slots,"default")],10,ne),e.$slots.footer?(d(),c("footer",{key:0,class:f(p($).e("footer"))},[u(e.$slots,"footer")],2)):h("v-if",!0)],6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const ce=e({...ae,appendToBody:Boolean,appendTo:{type:F(String),default:"body"},beforeClose:{type:F(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),ie={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[I]:e=>B(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ue=["aria-label","aria-labelledby","aria-describedby"],fe=l({name:"ElDialog",inheritAttrs:!1});const pe=X(A(l({...fe,props:ce,emits:ie,setup(e,{expose:o}){const l=e,a=j();q({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},n((()=>!!a.title))),q({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},n((()=>!!l.customClass)));const s=N("dialog"),t=x(),r=x(),c=x(),{visible:y,titleId:b,bodyId:C,style:A,overlayDialogStyle:R,rendered:F,zIndex:B,afterEnter:X,afterLeave:ee,beforeLeave:ae,handleClose:se,onModalClick:te,onOpenAutoFocus:ne,onCloseAutoFocus:re,onCloseRequested:ce,onFocusoutPrevented:ie}=((e,o)=>{var l;const a=$().emit,{nextZIndex:s}=w();let t="";const r=S(),d=S(),c=x(!1),i=x(!1),u=x(!1),f=x(null!=(l=e.zIndex)?l:s());let p,y;const v=D("namespace",O),m=n((()=>{const o={},l=`--${v.value}-dialog`;return e.fullscreen||(e.top&&(o[`${l}-margin-top`]=e.top),e.width&&(o[`${l}-width`]=L(e.width))),o})),g=n((()=>e.alignCenter?{display:"flex"}:{}));function b(){null==y||y(),null==p||p(),e.openDelay&&e.openDelay>0?({stop:p}=z((()=>k()),e.openDelay)):k()}function C(){null==p||p(),null==y||y(),e.closeDelay&&e.closeDelay>0?({stop:y}=z((()=>A()),e.closeDelay)):A()}function h(){e.beforeClose?e.beforeClose((function(e){e||(i.value=!0,c.value=!1)})):C()}function k(){P&&(c.value=!0)}function A(){c.value=!1}return e.lockScroll&&_(c),E((()=>e.modelValue),(l=>{l?(i.value=!1,b(),u.value=!0,f.value=oe(e.zIndex)?s():f.value++,M((()=>{a("open"),o.value&&(o.value.scrollTop=0)}))):c.value&&C()})),E((()=>e.fullscreen),(e=>{o.value&&(e?(t=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=t)})),T((()=>{e.modelValue&&(c.value=!0,u.value=!0,b())})),{afterEnter:function(){a("opened")},afterLeave:function(){a("closed"),a(I,!1),e.destroyOnClose&&(u.value=!1)},beforeLeave:function(){a("close")},handleClose:h,onModalClick:function(){e.closeOnClickModal&&h()},close:C,doClose:A,onOpenAutoFocus:function(){a("openAutoFocus")},onCloseAutoFocus:function(){a("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&h()},onFocusoutPrevented:function(e){var o;"pointer"===(null==(o=e.detail)?void 0:o.focusReason)&&e.preventDefault()},titleId:r,bodyId:d,closed:i,style:m,overlayDialogStyle:g,rendered:u,visible:c,zIndex:f}})(l,t);K(le,{dialogRef:t,headerRef:r,bodyId:C,ns:s,rendered:F,style:A});const fe=W(te),pe=n((()=>l.draggable&&!l.fullscreen));return o({visible:y,dialogContentRef:c}),(e,o)=>(d(),g(J,{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},[v(G,{name:"dialog-fade",onAfterEnter:p(X),onAfterLeave:p(ee),onBeforeLeave:p(ae),persisted:""},{default:m((()=>[U(v(p(V),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":p(B)},{default:m((()=>[i("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:p(b),"aria-describedby":p(C),class:f(`${p(s).namespace.value}-overlay-dialog`),style:k(p(R)),onClick:o[0]||(o[0]=(...e)=>p(fe).onClick&&p(fe).onClick(...e)),onMousedown:o[1]||(o[1]=(...e)=>p(fe).onMousedown&&p(fe).onMousedown(...e)),onMouseup:o[2]||(o[2]=(...e)=>p(fe).onMouseup&&p(fe).onMouseup(...e))},[v(p(Q),{loop:"",trapped:p(y),"focus-start-el":"container",onFocusAfterTrapped:p(ne),onFocusAfterReleased:p(re),onFocusoutPrevented:p(ie),onReleaseRequested:p(ce)},{default:m((()=>[p(F)?(d(),g(de,Z({key:0,ref_key:"dialogContentRef",ref:c},e.$attrs,{"custom-class":e.customClass,center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:p(pe),fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:p(se)}),H({header:m((()=>[e.$slots.title?u(e.$slots,"title",{key:1}):u(e.$slots,"header",{key:0,close:p(se),titleId:p(b),titleClass:p(s).e("title")})])),default:m((()=>[u(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:m((()=>[u(e.$slots,"footer")]))}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):h("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,ue)])),_:3},8,["mask","overlay-class","z-index"]),[[Y,p(y)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]));export{pe as E};
