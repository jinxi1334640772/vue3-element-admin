import{ch as e,j as l,C as t,Y as a,h as o,bu as n,ci as s,K as i,f as r,_ as u,d as p,u as d,bK as c,J as v,bc as h,L as m,$ as f,O as b,P as g,a as y,c as C,e as O,k as S,t as x,n as T,ai as w,r as L,o as I,V as M,ad as E,am as V,ay as P,F as k,aB as K,b0 as D,cj as q,b1 as z,b5 as A,b9 as W,ck as B,as as F,bj as $,au as H,cl as R,v as _,aY as j,N as Q,cm as N,cn as G,a_ as U,aV as Y,E as J,aX as X,i as Z,co as ee,H as le,p as te,cp as ae,a1 as oe,cq as ne,a3 as se,w as ie,l as re,T as ue,Q as pe,a5 as de,aU as ce,cr as ve,bQ as he,m as me,q as fe,s as be}from"./index-6faa080d.js";import{E as ge,a as ye,b as Ce}from"./el-popper-e2dab256.js";import{E as Oe}from"./el-scrollbar-23b8bf90.js";import{E as Se,t as xe}from"./index-b448741e.js";import{e as Te}from"./strings-161f22ae.js";import{i as we}from"./isEqual-8f65086e.js";import{t as Le,d as Ie}from"./debounce-43ed913c.js";import{b as Me,C as Ee}from"./index-0ffc233c.js";var Ve=1/0,Pe=17976931348623157e292;function ke(e){var l=function(e){return e?(e=Le(e))===Ve||e===-Ve?(e<0?-1:1)*Pe:e==e?e:0:0===e?e:0}(e),t=l%1;return l==l?t?l-t:l:0}var Ke=Math.max,De=Math.min;const qe=Symbol("ElSelectGroup"),ze=Symbol("ElSelect");const Ae=p({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const u=d("select"),p=c(),b=t((()=>[u.be("dropdown","item"),u.is("disabled",r(O)),{selected:r(C),hover:r(w)}])),g=v({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:y,itemSelected:C,isDisabled:O,select:S,hoverItem:x}=function(e,u){const p=l(ze),d=l(qe,{disabled:!1}),c=t((()=>a(e.value))),v=t((()=>p.props.multiple?y(p.props.modelValue,e.value):C(e.value,p.props.modelValue))),h=t((()=>{if(p.props.multiple){const e=p.props.modelValue||[];return!v.value&&e.length>=p.props.multipleLimit&&p.props.multipleLimit>0}return!1})),m=t((()=>e.label||(c.value?"":e.value))),f=t((()=>e.value||e.label||"")),b=t((()=>e.disabled||u.groupDisabled||h.value)),g=o(),y=(e=[],l)=>{if(c.value){const t=p.props.valueKey;return e&&e.some((e=>n(s(e,t))===s(l,t)))}return e&&e.includes(l)},C=(e,l)=>{if(c.value){const{valueKey:t}=p.props;return s(e,t)===s(l,t)}return e===l};i((()=>m.value),(()=>{e.created||p.props.remote||p.setSelected()})),i((()=>e.value),((l,t)=>{const{remote:o,valueKey:n}=p.props;if(Object.is(l,t)||(p.onOptionDestroy(t,g.proxy),p.onOptionCreate(g.proxy)),!e.created&&!o){if(n&&a(l)&&a(t)&&l[n]===t[n])return;p.setSelected()}})),i((()=>d.disabled),(()=>{u.groupDisabled=d.disabled}),{immediate:!0});const{queryChange:O}=n(p);return i(O,(l=>{const{query:t}=r(l),a=new RegExp(Te(t),"i");u.visible=a.test(m.value)||e.created,u.visible||p.filteredOptionsCount--}),{immediate:!0}),{select:p,currentLabel:m,currentValue:f,itemSelected:v,isDisabled:b,hoverItem:()=>{e.disabled||d.disabled||(p.hoverIndex=p.optionsArray.indexOf(g.proxy))}}}(e,g),{visible:T,hover:w}=h(g),L=o().proxy;return S.onOptionCreate(L),m((()=>{const e=L.value,{selected:l}=S,t=(S.props.multiple?l:[l]).some((e=>e.value===L.value));f((()=>{S.cachedOptions.get(e)!==L||t||S.cachedOptions.delete(e)})),S.onOptionDestroy(e,L)})),{ns:u,id:p,containerKls:b,currentLabel:y,itemSelected:C,isDisabled:O,select:S,hoverItem:x,visible:T,hover:w,selectOptionClick:function(){!0!==e.disabled&&!0!==g.groupDisabled&&S.handleOptionSelect(L)},states:g}}}),We=["id","aria-disabled","aria-selected"];var Be=u(Ae,[["render",function(e,l,t,a,o,n){return b((y(),C("li",{id:e.id,class:T(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMouseenter:l[0]||(l[0]=(...l)=>e.hoverItem&&e.hoverItem(...l)),onClick:l[1]||(l[1]=w(((...l)=>e.selectOptionClick&&e.selectOptionClick(...l)),["stop"]))},[O(e.$slots,"default",{},(()=>[S("span",null,x(e.currentLabel),1)]))],42,We)),[[g,e.visible]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);var Fe=u(p({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=l(ze),a=d("select"),o=t((()=>e.props.popperClass)),n=t((()=>e.props.multiple)),s=t((()=>e.props.fitInputWidth)),i=L("");function r(){var l;i.value=`${null==(l=e.selectWrapper)?void 0:l.offsetWidth}px`}return I((()=>{r(),M(e.selectWrapper,r)})),{ns:a,minWidth:i,popperClass:o,isMultiple:n,isFitInputWidth:s}}}),[["render",function(e,l,t,a,o,n){return y(),C("div",{class:T([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:V({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(y(),C("div",{key:0,class:T(e.ns.be("dropdown","header"))},[O(e.$slots,"header")],2)):E("v-if",!0),O(e.$slots,"default"),e.$slots.footer?(y(),C("div",{key:1,class:T(e.ns.be("dropdown","footer"))},[O(e.$slots,"footer")],2)):E("v-if",!0)],6)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);const $e=(l,o,u)=>{const{t:p}=P(),c=d("select");k({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},t((()=>!1===l.suffixTransition)));const v=L(null),h=L(null),m=L(null),b=L(null),g=L(null),y=L(null),C=L(null),O=L(null),S=L(),x=K({query:""}),T=K(""),w=L([]);let I=0;const{form:M,formItem:E}=D(),V=t((()=>!l.filterable||l.multiple||!o.visible)),Y=t((()=>l.disabled||(null==M?void 0:M.disabled))),J=t((()=>{const e=l.multiple?Array.isArray(l.modelValue)&&l.modelValue.length>0:void 0!==l.modelValue&&null!==l.modelValue&&""!==l.modelValue;return l.clearable&&!Y.value&&o.inputHovering&&e})),X=t((()=>l.remote&&l.filterable&&!l.remoteShowSuffix?"":l.suffixIcon)),Z=t((()=>c.is("reverse",X.value&&o.visible&&l.suffixTransition))),ee=t((()=>(null==M?void 0:M.statusIcon)&&(null==E?void 0:E.validateState)&&q[null==E?void 0:E.validateState])),le=t((()=>l.remote?300:0)),te=t((()=>l.loading?l.loadingText||p("el.select.loading"):(!l.remote||""!==o.query||0!==o.options.size)&&(l.filterable&&o.query&&o.options.size>0&&0===o.filteredOptionsCount?l.noMatchText||p("el.select.noMatch"):0===o.options.size?l.noDataText||p("el.select.noData"):null))),ae=t((()=>{const e=Array.from(o.options.values()),l=[];return w.value.forEach((t=>{const a=e.findIndex((e=>e.currentLabel===t));a>-1&&l.push(e[a])})),l.length>=e.length?l:e})),oe=t((()=>Array.from(o.cachedOptions.values()))),ne=t((()=>{const e=ae.value.filter((e=>!e.created)).some((e=>e.currentLabel===o.query));return l.filterable&&l.allowCreate&&""!==o.query&&!e})),se=z(),ie=t((()=>["small"].includes(se.value)?"small":"default")),re=t({get:()=>o.visible&&!1!==te.value,set(e){o.visible=e}});i([()=>Y.value,()=>se.value,()=>null==M?void 0:M.size],(()=>{f((()=>{ue()}))})),i((()=>l.placeholder),(e=>{o.cachedPlaceHolder=o.currentPlaceholder=e;l.multiple&&Array.isArray(l.modelValue)&&l.modelValue.length>0&&(o.currentPlaceholder="")})),i((()=>l.modelValue),((e,t)=>{l.multiple&&(ue(),e&&e.length>0||h.value&&""!==o.query?o.currentPlaceholder="":o.currentPlaceholder=o.cachedPlaceHolder,l.filterable&&!l.reserveKeyword&&(o.query="",pe(o.query))),ve(),l.filterable&&!l.multiple&&(o.inputLength=20),!we(e,t)&&l.validateEvent&&(null==E||E.validate("change").catch((e=>A())))}),{flush:"post",deep:!0}),i((()=>o.visible),(e=>{var t,a,n,s,i;e?(null==(a=null==(t=b.value)?void 0:t.updatePopper)||a.call(t),l.filterable&&(o.filteredOptionsCount=o.optionsCount,o.query=l.remote?"":o.selectedLabel,null==(s=null==(n=m.value)?void 0:n.focus)||s.call(n),l.multiple?null==(i=h.value)||i.focus():o.selectedLabel&&(o.currentPlaceholder=`${o.selectedLabel}`,o.selectedLabel=""),pe(o.query),l.multiple||l.remote||(x.value.query="",B(x),B(T)))):(l.filterable&&(W(l.filterMethod)&&l.filterMethod(""),W(l.remoteMethod)&&l.remoteMethod("")),o.query="",o.previousQuery=null,o.selectedLabel="",o.inputLength=20,o.menuVisibleOnFocus=!1,me(),f((()=>{h.value&&""===h.value.value&&0===o.selected.length&&(o.currentPlaceholder=o.cachedPlaceHolder)})),l.multiple||(o.selected&&(l.filterable&&l.allowCreate&&o.createdSelected&&o.createdLabel?o.selectedLabel=o.createdLabel:o.selectedLabel=o.selected.currentLabel,l.filterable&&(o.query=o.selectedLabel)),l.filterable&&(o.currentPlaceholder=o.cachedPlaceHolder))),u.emit("visible-change",e)})),i((()=>o.options.entries()),(()=>{var e,t,a;if(!F)return;null==(t=null==(e=b.value)?void 0:e.updatePopper)||t.call(e),l.multiple&&ue();const n=(null==(a=C.value)?void 0:a.querySelectorAll("input"))||[];(l.filterable||l.defaultFirstOption||$(l.modelValue))&&Array.from(n).includes(document.activeElement)||ve(),l.defaultFirstOption&&(l.filterable||l.remote)&&o.filteredOptionsCount&&ce()}),{flush:"post"}),i((()=>o.hoverIndex),(e=>{H(e)&&e>-1?S.value=ae.value[e]||{}:S.value={},ae.value.forEach((e=>{e.hover=S.value===e}))}));const ue=()=>{f((()=>{var l,t;if(!v.value)return;const a=v.value.$el.querySelector("input");I=I||(a.clientHeight>0?a.clientHeight+2:0);const n=y.value,s=getComputedStyle(a).getPropertyValue(c.cssVarName("input-height")),i=Number.parseFloat(s)||(r=se.value||(null==M?void 0:M.size),e[r||"default"]);var r;const u=se.value||i===I||I<=0?i:I;!(null===a.offsetParent)&&(a.style.height=(0===o.selected.length?u:Math.max(n?n.clientHeight+(n.clientHeight>u?6:0):0,u))-2+"px"),o.visible&&!1!==te.value&&(null==(t=null==(l=b.value)?void 0:l.updatePopper)||t.call(l))}))},pe=async e=>{o.previousQuery===e||o.isOnComposition||(null!==o.previousQuery||!W(l.filterMethod)&&!W(l.remoteMethod)?(o.previousQuery=e,f((()=>{var e,l;o.visible&&(null==(l=null==(e=b.value)?void 0:e.updatePopper)||l.call(e))})),o.hoverIndex=-1,l.multiple&&l.filterable&&f((()=>{if(!Y.value){const e=15*h.value.value.length+20;o.inputLength=l.collapseTags?Math.min(50,e):e,de()}ue()})),l.remote&&W(l.remoteMethod)?(o.hoverIndex=-1,l.remoteMethod(e)):W(l.filterMethod)?(l.filterMethod(e),B(T)):(o.filteredOptionsCount=o.optionsCount,x.value.query=e,B(x),B(T)),l.defaultFirstOption&&(l.filterable||l.remote)&&o.filteredOptionsCount&&(await f(),ce())):o.previousQuery=e)},de=()=>{""!==o.currentPlaceholder&&(o.currentPlaceholder=h.value.value?"":o.cachedPlaceHolder)},ce=()=>{const e=ae.value.filter((e=>e.visible&&!e.disabled&&!e.states.groupDisabled)),l=e.find((e=>e.created)),t=e[0];o.hoverIndex=Te(ae.value,l||t)},ve=()=>{var e;if(!l.multiple){const t=he(l.modelValue);return(null==(e=t.props)?void 0:e.created)?(o.createdLabel=t.props.value,o.createdSelected=!0):o.createdSelected=!1,o.selectedLabel=t.currentLabel,o.selected=t,void(l.filterable&&(o.query=o.selectedLabel))}o.selectedLabel="";const t=[];Array.isArray(l.modelValue)&&l.modelValue.forEach((e=>{t.push(he(e))})),o.selected=t,f((()=>{ue()}))},he=e=>{let t;const a="object"===R(e).toLowerCase(),n="null"===R(e).toLowerCase(),i="undefined"===R(e).toLowerCase();for(let u=o.cachedOptions.size-1;u>=0;u--){const o=oe.value[u];if(a?s(o.value,l.valueKey)===s(e,l.valueKey):o.value===e){t={value:e,currentLabel:o.currentLabel,isDisabled:o.isDisabled};break}}if(t)return t;const r={value:e,currentLabel:a?e.label:n||i?"":e};return l.multiple&&(r.hitState=!1),r},me=()=>{setTimeout((()=>{const e=l.valueKey;l.multiple?o.selected.length>0?o.hoverIndex=Math.min.apply(null,o.selected.map((l=>ae.value.findIndex((t=>s(t,e)===s(l,e)))))):o.hoverIndex=-1:o.hoverIndex=ae.value.findIndex((e=>Ae(e)===Ae(o.selected)))}),300)},fe=()=>{var e;o.inputWidth=null==(e=v.value)?void 0:e.$el.offsetWidth},be=Ie((()=>{l.filterable&&o.query!==o.selectedLabel&&(o.query=o.selectedLabel,pe(o.query))}),le.value),ge=Ie((e=>{pe(e.target.value)}),le.value),ye=e=>{we(l.modelValue,e)||u.emit(U,e)},Ce=e=>function(e,l,t){var a=null==e?0:e.length;if(!a)return-1;var o=a-1;return void 0!==t&&(o=ke(t),o=t<0?Ke(a+o,0):De(o,a-1)),function(e,l,t,a){for(var o=e.length,n=t+(a?1:-1);a?n--:++n<o;)if(l(e[n],n,e))return n;return-1}(e,Me(l),o,!0)}(e,(e=>!o.disabledOptions.has(e))),Oe=(e,t)=>{const a=o.selected.indexOf(t);if(a>-1&&!Y.value){const e=l.modelValue.slice();e.splice(a,1),u.emit(j,e),ye(e),u.emit("remove-tag",t.value)}e.stopPropagation(),Pe()},Se=e=>{e.stopPropagation();const t=l.multiple?[]:"";if(!Q(t))for(const l of o.selected)l.isDisabled&&t.push(l.value);u.emit(j,t),ye(t),o.hoverIndex=-1,o.visible=!1,u.emit("clear"),Pe()},xe=e=>{var t;if(l.multiple){const a=(l.modelValue||[]).slice(),n=Te(a,e.value);n>-1?a.splice(n,1):(l.multipleLimit<=0||a.length<l.multipleLimit)&&a.push(e.value),u.emit(j,a),ye(a),e.created&&(o.query="",pe(""),o.inputLength=20),l.filterable&&(null==(t=h.value)||t.focus())}else u.emit(j,e.value),ye(e.value),o.visible=!1;Le(),o.visible||f((()=>{Ee(e)}))},Te=(e=[],t)=>{if(!a(t))return e.indexOf(t);const o=l.valueKey;let i=-1;return e.some(((e,l)=>n(s(e,o))===s(t,o)&&(i=l,!0))),i},Le=()=>{const e=h.value||v.value;e&&(null==e||e.focus())},Ee=e=>{var l,t,a,o,n;const s=Array.isArray(e)?e[0]:e;let i=null;if(null==s?void 0:s.value){const e=ae.value.filter((e=>e.value===s.value));e.length>0&&(i=e[0].$el)}if(b.value&&i){const e=null==(o=null==(a=null==(t=null==(l=b.value)?void 0:l.popperRef)?void 0:t.contentRef)?void 0:a.querySelector)?void 0:o.call(a,`.${c.be("dropdown","wrap")}`);e&&N(e,i)}null==(n=O.value)||n.handleScroll()},Ve=e=>{if(!Array.isArray(o.selected))return;const l=Ce(o.selected.map((e=>e.value))),t=o.selected[l];return t?!0===e||!1===e?(t.hitState=e,e):(t.hitState=!t.hitState,t.hitState):void 0},Pe=()=>{var e,l;o.visible?null==(e=h.value||v.value)||e.focus():null==(l=v.value)||l.focus()},qe=()=>{o.visible=!1},ze=e=>{e&&!o.mouseEnter||Y.value||(o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:b.value&&b.value.isFocusInsideContent()||(o.visible=!o.visible),Pe())},Ae=e=>a(e.value)?s(e.value,l.valueKey):e.value,We=t((()=>ae.value.filter((e=>e.visible)).every((e=>e.disabled)))),Be=t((()=>l.multiple?o.selected.slice(0,l.maxCollapseTags):[])),Fe=t((()=>l.multiple?o.selected.slice(l.maxCollapseTags):[])),$e=e=>{if(o.visible){if(0!==o.options.size&&0!==o.filteredOptionsCount&&!o.isOnComposition&&!We.value){"next"===e?(o.hoverIndex++,o.hoverIndex===o.options.size&&(o.hoverIndex=0)):"prev"===e&&(o.hoverIndex--,o.hoverIndex<0&&(o.hoverIndex=o.options.size-1));const l=ae.value[o.hoverIndex];!0!==l.disabled&&!0!==l.states.groupDisabled&&l.visible||$e(e),f((()=>Ee(S.value)))}}else o.visible=!0},He=t((()=>({maxWidth:r(o.inputWidth)-32-(ee.value?22:0)+"px",width:"100%"})));return{optionList:w,optionsArray:ae,hoverOption:S,selectSize:se,handleResize:()=>{var e,t;fe(),null==(t=null==(e=b.value)?void 0:e.updatePopper)||t.call(e),l.multiple&&ue()},debouncedOnInputChange:be,debouncedQueryChange:ge,deletePrevTag:e=>{if(e.code!==_.delete){if(e.target.value.length<=0&&!Ve()){const e=l.modelValue.slice(),t=Ce(e);if(t<0)return;e.splice(t,1),u.emit(j,e),ye(e)}1===e.target.value.length&&0===l.modelValue.length&&(o.currentPlaceholder=o.cachedPlaceHolder)}},deleteTag:Oe,deleteSelected:Se,handleOptionSelect:xe,scrollToOption:Ee,readonly:V,resetInputHeight:ue,showClose:J,iconComponent:X,iconReverse:Z,showNewOption:ne,collapseTagSize:ie,setSelected:ve,managePlaceholder:de,selectDisabled:Y,emptyText:te,toggleLastOptionHitState:Ve,resetInputState:e=>{e.code!==_.backspace&&Ve(!1),o.inputLength=15*h.value.value.length+20,ue()},handleComposition:e=>{const l=e.target.value;if("compositionend"===e.type)o.isOnComposition=!1,f((()=>pe(l)));else{const e=l[l.length-1]||"";o.isOnComposition=!G(e)}},onOptionCreate:e=>{o.optionsCount++,o.filteredOptionsCount++,o.options.set(e.value,e),o.cachedOptions.set(e.value,e),e.disabled&&o.disabledOptions.set(e.value,e)},onOptionDestroy:(e,l)=>{o.options.get(e)===l&&(o.optionsCount--,o.filteredOptionsCount--,o.options.delete(e))},handleMenuEnter:()=>{f((()=>Ee(o.selected)))},handleFocus:e=>{o.focused||((l.automaticDropdown||l.filterable)&&(l.filterable&&!o.visible&&(o.menuVisibleOnFocus=!0),o.visible=!0),o.focused=!0,u.emit("focus",e))},focus:Pe,blur:()=>{var e,l,t;o.visible=!1,null==(e=v.value)||e.blur(),null==(t=null==(l=m.value)?void 0:l.blur)||t.call(l)},handleBlur:e=>{var l,t,a;(null==(l=b.value)?void 0:l.isFocusInsideContent(e))||(null==(t=g.value)?void 0:t.isFocusInsideContent(e))||(null==(a=C.value)?void 0:a.contains(e.relatedTarget))||(o.visible&&qe(),o.focused=!1,u.emit("blur",e))},handleClearClick:e=>{Se(e)},handleClose:qe,handleKeydownEscape:e=>{o.visible&&(e.preventDefault(),e.stopPropagation(),o.visible=!1)},toggleMenu:ze,selectOption:()=>{o.visible?ae.value[o.hoverIndex]&&xe(ae.value[o.hoverIndex]):ze()},getValueKey:Ae,navigateOptions:$e,handleDeleteTooltipTag:(e,l)=>{var t,a;Oe(e,l),null==(a=null==(t=g.value)?void 0:t.updatePopper)||a.call(t)},dropMenuVisible:re,queryChange:x,groupQueryChange:T,showTagList:Be,collapseTagList:Fe,selectTagsStyle:He,reference:v,input:h,iOSInput:m,tooltipRef:b,tagTooltipRef:g,tags:y,selectWrapper:C,scrollbar:O,handleMouseEnter:()=>{o.mouseEnter=!0},handleMouseLeave:()=>{o.mouseEnter=!1}}};var He=p({name:"ElOptions",emits:["update-options"],setup(e,{slots:l,emit:t}){let a=[];return()=>{var e,o;const n=null==(e=l.default)?void 0:e.call(l),s=[];return n.length&&function e(l){Array.isArray(l)&&l.forEach((l=>{var t,a,o,n;const i=null==(t=(null==l?void 0:l.type)||{})?void 0:t.name;"ElOptionGroup"===i?e(Q(l.children)||Array.isArray(l.children)||!W(null==(a=l.children)?void 0:a.default)?l.children:null==(o=l.children)?void 0:o.default()):"ElOption"===i?s.push(null==(n=l.props)?void 0:n.label):Array.isArray(l.children)&&e(l.children)}))}(null==(o=n[0])?void 0:o.children),function(e,l){if(e.length!==l.length)return!1;for(const[t]of e.entries())if(e[t]!=l[t])return!1;return!0}(s,a)||(a=s,t("update-options",s)),n}}});const Re="ElSelect",_e=p({name:Re,componentName:Re,components:{ElInput:Y,ElSelectMenu:Fe,ElOption:Be,ElOptions:He,ElTag:Se,ElScrollbar:Oe,ElTooltip:ge,ElIcon:J},directives:{ClickOutside:Ee},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:X},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:ye.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Z,default:ee},fitInputWidth:Boolean,suffixIcon:{type:Z,default:le},tagType:{...xe.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Ce,default:"bottom-start"},ariaLabel:{type:String,default:void 0}},emits:[j,U,"remove-tag","clear","visible-change","focus","blur"],setup(e,l){const a=d("select"),o=d("input"),{t:n}=P(),s=c(),i=function(e){const{t:l}=P();return v({options:new Map,cachedOptions:new Map,disabledOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:l("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}(e),{optionList:u,optionsArray:p,hoverOption:m,selectSize:b,readonly:g,handleResize:y,collapseTagSize:C,debouncedOnInputChange:O,debouncedQueryChange:S,deletePrevTag:x,deleteTag:T,deleteSelected:w,handleOptionSelect:L,scrollToOption:E,setSelected:V,resetInputHeight:k,managePlaceholder:K,showClose:D,selectDisabled:q,iconComponent:z,iconReverse:A,showNewOption:W,emptyText:B,toggleLastOptionHitState:F,resetInputState:$,handleComposition:H,onOptionCreate:R,onOptionDestroy:_,handleMenuEnter:Q,handleFocus:N,focus:G,blur:U,handleBlur:Y,handleClearClick:J,handleClose:X,handleKeydownEscape:Z,toggleMenu:ee,selectOption:le,getValueKey:oe,navigateOptions:ne,handleDeleteTooltipTag:se,dropMenuVisible:ie,reference:re,input:ue,iOSInput:pe,tooltipRef:de,tagTooltipRef:ce,tags:ve,selectWrapper:he,scrollbar:me,queryChange:fe,groupQueryChange:be,handleMouseEnter:ge,handleMouseLeave:ye,showTagList:Ce,collapseTagList:Oe,selectTagsStyle:Se}=$e(e,i,l),{inputWidth:xe,selected:Te,inputLength:we,filteredOptionsCount:Le,visible:Ie,selectedLabel:Me,hoverIndex:Ee,query:Ve,inputHovering:Pe,currentPlaceholder:ke,menuVisibleOnFocus:Ke,isOnComposition:De,options:qe,cachedOptions:Ae,optionsCount:We,prefixWidth:Be}=h(i),Fe=t((()=>{const l=[a.b()],t=r(b);return t&&l.push(a.m(t)),e.disabled&&l.push(a.m("disabled")),l})),He=t((()=>[a.e("tags"),a.is("disabled",r(q))])),Re=t((()=>[a.b("tags-wrapper"),{"has-prefix":r(Be)&&r(Te).length}])),_e=t((()=>[a.e("input"),a.is(r(b)),a.is("disabled",r(q))])),je=t((()=>[a.e("input"),a.is(r(b)),a.em("input","iOS")])),Qe=t((()=>[a.is("empty",!e.allowCreate&&Boolean(r(Ve))&&0===r(Le))])),Ne=t((()=>({maxWidth:`${r(xe)>123&&r(Te).length>e.maxCollapseTags?r(xe)-123:r(xe)-75}px`}))),Ge=t((()=>({marginLeft:`${r(Be)}px`,flexGrow:1,width:r(we)/(r(xe)-32)+"%",maxWidth:r(xe)-42+"px"})));te(ze,v({props:e,options:qe,optionsArray:p,cachedOptions:Ae,optionsCount:We,filteredOptionsCount:Le,hoverIndex:Ee,handleOptionSelect:L,onOptionCreate:R,onOptionDestroy:_,selectWrapper:he,selected:Te,setSelected:V,queryChange:fe,groupQueryChange:be})),I((()=>{i.cachedPlaceHolder=ke.value=e.placeholder||(()=>n("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(ke.value=""),M(he,y),e.remote&&e.multiple&&k(),f((()=>{const e=re.value&&re.value.$el;if(e&&(xe.value=e.getBoundingClientRect().width,l.slots.prefix)){const l=e.querySelector(`.${o.e("prefix")}`);Be.value=Math.max(l.getBoundingClientRect().width+11,30)}})),V()})),e.multiple&&!Array.isArray(e.modelValue)&&l.emit(j,[]),!e.multiple&&Array.isArray(e.modelValue)&&l.emit(j,"");const Ue=t((()=>{var e,l;return null==(l=null==(e=de.value)?void 0:e.popperRef)?void 0:l.contentRef}));return{isIOS:ae,onOptionsRendered:e=>{u.value=e},prefixWidth:Be,selectSize:b,readonly:g,handleResize:y,collapseTagSize:C,debouncedOnInputChange:O,debouncedQueryChange:S,deletePrevTag:x,deleteTag:T,handleDeleteTooltipTag:se,deleteSelected:w,handleOptionSelect:L,scrollToOption:E,inputWidth:xe,selected:Te,inputLength:we,filteredOptionsCount:Le,visible:Ie,selectedLabel:Me,hoverIndex:Ee,query:Ve,inputHovering:Pe,currentPlaceholder:ke,menuVisibleOnFocus:Ke,isOnComposition:De,options:qe,resetInputHeight:k,managePlaceholder:K,showClose:D,selectDisabled:q,iconComponent:z,iconReverse:A,showNewOption:W,emptyText:B,toggleLastOptionHitState:F,resetInputState:$,handleComposition:H,handleMenuEnter:Q,handleFocus:N,focus:G,blur:U,handleBlur:Y,handleClearClick:J,handleClose:X,handleKeydownEscape:Z,toggleMenu:ee,selectOption:le,getValueKey:oe,navigateOptions:ne,dropMenuVisible:ie,reference:re,input:ue,iOSInput:pe,tooltipRef:de,popperPaneRef:Ue,tags:ve,selectWrapper:he,scrollbar:me,wrapperKls:Fe,tagsKls:He,tagWrapperKls:Re,inputKls:_e,iOSInputKls:je,scrollbarKls:Qe,selectTagsStyle:Se,nsSelect:a,tagTextStyle:Ne,inputStyle:Ge,handleMouseEnter:ge,handleMouseLeave:ye,showTagList:Ce,collapseTagList:Oe,tagTooltipRef:ce,contentId:s,hoverOption:m}}}),je=["disabled","autocomplete","aria-activedescendant","aria-controls","aria-expanded","aria-label"],Qe=["disabled"],Ne={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};var Ge=u(_e,[["render",function(e,l,t,a,o,n){const s=oe("el-tag"),i=oe("el-tooltip"),r=oe("el-icon"),u=oe("el-input"),p=oe("el-option"),d=oe("el-options"),c=oe("el-scrollbar"),v=oe("el-select-menu"),h=ne("click-outside");return b((y(),C("div",{ref:"selectWrapper",class:T(e.wrapperKls),onMouseenter:l[22]||(l[22]=(...l)=>e.handleMouseEnter&&e.handleMouseEnter(...l)),onMouseleave:l[23]||(l[23]=(...l)=>e.handleMouseLeave&&e.handleMouseLeave(...l)),onClick:l[24]||(l[24]=w(((...l)=>e.toggleMenu&&e.toggleMenu(...l)),["stop"]))},[se(i,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:ie((()=>{var t,a;return[S("div",{class:"select-trigger",onMouseenter:l[20]||(l[20]=l=>e.inputHovering=!0),onMouseleave:l[21]||(l[21]=l=>e.inputHovering=!1)},[e.multiple?(y(),C("div",{key:0,ref:"tags",tabindex:"-1",class:T(e.tagsKls),style:V(e.selectTagsStyle),onClick:l[15]||(l[15]=(...l)=>e.focus&&e.focus(...l))},[e.collapseTags&&e.selected.length?(y(),re(ue,{key:0,onAfterLeave:e.resetInputHeight},{default:ie((()=>[S("span",{class:T(e.tagWrapperKls)},[(y(!0),C(pe,null,de(e.showTagList,(l=>(y(),re(s,{key:e.getValueKey(l),closable:!e.selectDisabled&&!l.isDisabled,size:e.collapseTagSize,hit:l.hitState,type:e.tagType,"disable-transitions":"",onClose:t=>e.deleteTag(t,l)},{default:ie((()=>[S("span",{class:T(e.nsSelect.e("tags-text")),style:V(e.tagTextStyle)},x(l.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128)),e.selected.length>e.maxCollapseTags?(y(),re(s,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:ie((()=>[e.collapseTagsTooltip?(y(),re(i,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:ie((()=>[S("span",{class:T(e.nsSelect.e("tags-text"))},"+ "+x(e.selected.length-e.maxCollapseTags),3)])),content:ie((()=>[S("div",{class:T(e.nsSelect.e("collapse-tags"))},[(y(!0),C(pe,null,de(e.collapseTagList,(l=>(y(),C("div",{key:e.getValueKey(l),class:T(e.nsSelect.e("collapse-tag"))},[se(s,{class:"in-tooltip",closable:!e.selectDisabled&&!l.isDisabled,size:e.collapseTagSize,hit:l.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:t=>e.handleDeleteTooltipTag(t,l)},{default:ie((()=>[S("span",{class:T(e.nsSelect.e("tags-text")),style:V({maxWidth:e.inputWidth-75+"px"})},x(l.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])],2)))),128))],2)])),_:1},8,["disabled","effect","teleported"])):(y(),C("span",{key:1,class:T(e.nsSelect.e("tags-text"))},"+ "+x(e.selected.length-e.maxCollapseTags),3))])),_:1},8,["size","type"])):E("v-if",!0)],2)])),_:1},8,["onAfterLeave"])):E("v-if",!0),e.collapseTags?E("v-if",!0):(y(),re(ue,{key:1,onAfterLeave:e.resetInputHeight},{default:ie((()=>[S("span",{class:T(e.tagWrapperKls),style:V(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(y(!0),C(pe,null,de(e.selected,(l=>(y(),re(s,{key:e.getValueKey(l),closable:!e.selectDisabled&&!l.isDisabled,size:e.collapseTagSize,hit:l.hitState,type:e.tagType,"disable-transitions":"",onClose:t=>e.deleteTag(t,l)},{default:ie((()=>[S("span",{class:T(e.nsSelect.e("tags-text")),style:V({maxWidth:e.inputWidth-75+"px"})},x(l.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128))],6)])),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?b((y(),C("input",{key:2,ref:"input","onUpdate:modelValue":l[0]||(l[0]=l=>e.query=l),type:"text",class:T(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:V(e.inputStyle),role:"combobox","aria-activedescendant":(null==(t=e.hoverOption)?void 0:t.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:l[1]||(l[1]=(...l)=>e.handleFocus&&e.handleFocus(...l)),onBlur:l[2]||(l[2]=(...l)=>e.handleBlur&&e.handleBlur(...l)),onKeyup:l[3]||(l[3]=(...l)=>e.managePlaceholder&&e.managePlaceholder(...l)),onKeydown:[l[4]||(l[4]=(...l)=>e.resetInputState&&e.resetInputState(...l)),l[5]||(l[5]=ce(w((l=>e.navigateOptions("next")),["prevent"]),["down"])),l[6]||(l[6]=ce(w((l=>e.navigateOptions("prev")),["prevent"]),["up"])),l[7]||(l[7]=ce(((...l)=>e.handleKeydownEscape&&e.handleKeydownEscape(...l)),["esc"])),l[8]||(l[8]=ce(w(((...l)=>e.selectOption&&e.selectOption(...l)),["stop","prevent"]),["enter"])),l[9]||(l[9]=ce(((...l)=>e.deletePrevTag&&e.deletePrevTag(...l)),["delete"])),l[10]||(l[10]=ce((l=>e.visible=!1),["tab"]))],onCompositionstart:l[11]||(l[11]=(...l)=>e.handleComposition&&e.handleComposition(...l)),onCompositionupdate:l[12]||(l[12]=(...l)=>e.handleComposition&&e.handleComposition(...l)),onCompositionend:l[13]||(l[13]=(...l)=>e.handleComposition&&e.handleComposition(...l)),onInput:l[14]||(l[14]=(...l)=>e.debouncedQueryChange&&e.debouncedQueryChange(...l))},null,46,je)),[[ve,e.query]]):E("v-if",!0)],6)):E("v-if",!0),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(y(),C("input",{key:1,ref:"iOSInput",class:T(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,Qe)):E("v-if",!0),se(u,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":l[16]||(l[16]=l=>e.selectedLabel=l),type:"text",placeholder:"function"==typeof e.currentPlaceholder?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:T([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,role:"combobox","aria-activedescendant":(null==(a=e.hoverOption)?void 0:a.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropMenuVisible,label:e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[l[17]||(l[17]=ce(w((l=>e.navigateOptions("next")),["stop","prevent"]),["down"])),l[18]||(l[18]=ce(w((l=>e.navigateOptions("prev")),["stop","prevent"]),["up"])),ce(w(e.selectOption,["stop","prevent"]),["enter"]),ce(e.handleKeydownEscape,["esc"]),l[19]||(l[19]=ce((l=>e.visible=!1),["tab"]))]},he({suffix:ie((()=>[e.iconComponent&&!e.showClose?(y(),re(r,{key:0,class:T([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:ie((()=>[(y(),re(me(e.iconComponent)))])),_:1},8,["class"])):E("v-if",!0),e.showClose&&e.clearIcon?(y(),re(r,{key:1,class:T([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:ie((()=>[(y(),re(me(e.clearIcon)))])),_:1},8,["class","onClick"])):E("v-if",!0)])),_:2},[e.$slots.prefix?{name:"prefix",fn:ie((()=>[S("div",Ne,[O(e.$slots,"prefix")])]))}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","aria-activedescendant","aria-controls","aria-expanded","label","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]})),content:ie((()=>[se(v,null,he({default:ie((()=>[b(se(c,{id:e.contentId,ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:T(e.scrollbarKls),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:ie((()=>[e.showNewOption?(y(),re(p,{key:0,value:e.query,created:!0},null,8,["value"])):E("v-if",!0),se(d,{onUpdateOptions:e.onOptionsRendered},{default:ie((()=>[O(e.$slots,"default")])),_:3},8,["onUpdateOptions"])])),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[g,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.size)?(y(),C(pe,{key:0},[e.$slots.empty?O(e.$slots,"empty",{key:0}):(y(),C("p",{key:1,class:T(e.nsSelect.be("dropdown","empty"))},x(e.emptyText),3))],64)):E("v-if",!0)])),_:2},[e.$slots.header?{name:"header",fn:ie((()=>[O(e.$slots,"header")]))}:void 0,e.$slots.footer?{name:"footer",fn:ie((()=>[O(e.$slots,"footer")]))}:void 0]),1024)])),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[h,e.handleClose,e.popperPaneRef]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);var Ue=u(p({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=d("select"),a=L(!0),s=o(),r=L([]);te(qe,v({...h(e)}));const u=l(ze);I((()=>{r.value=p(s.subTree)}));const p=e=>{const l=[];return Array.isArray(e.children)&&e.children.forEach((e=>{var t;e.type&&"ElOption"===e.type.name&&e.component&&e.component.proxy?l.push(e.component.proxy):(null==(t=e.children)?void 0:t.length)&&l.push(...p(e))})),l},{groupQueryChange:c}=n(u);return i(c,(()=>{a.value=r.value.some((e=>!0===e.visible))}),{flush:"post"}),{visible:a,ns:t}}}),[["render",function(e,l,t,a,o,n){return b((y(),C("ul",{class:T(e.ns.be("group","wrap"))},[S("li",{class:T(e.ns.be("group","title"))},x(e.label),3),S("li",null,[S("ul",{class:T(e.ns.b("group"))},[O(e.$slots,"default")],2)])],2)),[[g,e.visible]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Ye=fe(Ge,{Option:Be,OptionGroup:Ue}),Je=be(Be);be(Ue);export{Je as E,Ye as a,ze as s};
